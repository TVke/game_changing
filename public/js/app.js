!function(e,t){function n(e,t){t.classList.add(e)}function a(e){function a(){if(!v)if(p>0)p-=1;else if(0===p){h.classList.add("show");var e=u.play();e!==t&&e.catch(function(e){}).then(function(){})}}function i(){var t=new XMLHttpRequest;t.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var e=t.responseText?JSON.parse(t.responseText):null;e&&o(e.categorie.name,e.title,e.description,e.image)}},t.open("GET","/new/card/"+e,!0),t.send()}function o(e,t,n,a){T.className="var-"+e,T.getElementsByTagName("h2")[0].innerHTML=t,T.getElementsByTagName("figcaption")[0].innerHTML=n,T.getElementsByTagName("img")[0].alt=t,null!==a&&(T.getElementsByTagName("img")[0].src="/img/"+a)}function s(e,t){return Math.floor(Math.random()*(t-e)+1)+e}function c(e){e.pause(),e.currentTime=0}function d(){clearInterval(l),l=0,l=setInterval(a,1e3),setTimeout(i,500)}function r(e){p=e,d()}var u,l,m=document.getElementById("countDown"),f=parseInt(m.dataset.min),g=parseInt(m.dataset.max),p=parseInt(m.innerHTML),v=!1,y=document.getElementById("won"),E=document.getElementById("pause"),h=document.getElementsByClassName("card")[0],T=document.getElementsByTagName("dialog")[0],L=document.getElementById("read"),B=document.getElementById("win");d(),(u=document.createElement("audio")).setAttribute("src","/audio/notification - 10.mp3"),u.id="notification",u.preload="auto",u.addEventListener("ended",function(e){e.preventDefault(),c(u)}),document.body.appendChild(u),y.addEventListener("click",function(e){e.preventDefault(),v=!0,n("win",B)}),E.addEventListener("click",function(e){e.preventDefault(),E.innerHTML=v?"pipi pauze":"speel verder",v=!v}),L.addEventListener("click",function(){r(s(f,g)),h.classList.remove("show"),c(u)})}for(var i=document.querySelectorAll("ul li a"),o=0,s=i.length;o<s;++o)!function(t){i[t].addEventListener("click",function(o){o.preventDefault();var s=new XMLHttpRequest;s.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var o=document.getElementById("nextPage"),c=document.getElementById("oldPage");o.innerHTML=s.responseText,n("show",c),setTimeout(function(){n("hide",c)},500),o.removeAttribute("class"),a(i[t].dataset.href.substr(e.location.href.length+5))}},s.open("GET",i[t].dataset.href,!0),s.send()})}(o);document.getElementById("overlay")&&document.getElementById("overlay").addEventListener("click",function(e){e.preventDefault(),this.classList.add("hide")})}(window);