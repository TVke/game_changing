!function(e,t){function n(e,t){t.classList.add(e)}function a(e){function a(){if(!v)if(p>0)p-=1;else if(0===p){y.classList.add("show");var e=u.play();e!==t&&e.catch(function(e){}).then(function(){})}}function i(){clearInterval(l),l=0,l=setInterval(a,1e3),setTimeout(s,500)}function o(e){e.pause(),e.currentTime=0,console.log("in reset "+e+"paused?"+e.paused)}function s(){var t=new XMLHttpRequest;t.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var e=t.responseText?JSON.parse(t.responseText):null;e&&c(e.categorie.categorie,e.title,e.description,e.image)}},t.open("GET","/new/card/"+e,!0),t.send()}function c(e,t,n,a){T.className="var-"+e,T.getElementsByTagName("h2")[0].innerHTML=t,T.getElementsByTagName("figcaption")[0].innerHTML=n,T.getElementsByTagName("img")[0].alt=t,""!==a&&(T.getElementsByTagName("img")[0].src="/img/"+a)}function r(e,t){return Math.floor(Math.random()*(t-e)+1)+e}function d(e){p=e,i()}var u,l,m=document.getElementById("countDown"),f=parseInt(m.dataset.min),g=parseInt(m.dataset.max),p=parseInt(m.innerHTML),v=!1,h=document.getElementById("won"),E=document.getElementById("pause"),y=document.getElementsByClassName("card")[0],T=document.getElementsByTagName("dialog")[0],L=document.getElementById("read"),B=document.getElementById("win");i(),(u=document.createElement("audio")).setAttribute("src","/audio/notification.mp3"),u.id="notification",u.preload="auto",u.addEventListener("ended",function(e){e.preventDefault(),o(u)}),document.body.appendChild(u),h.addEventListener("click",function(e){e.preventDefault(),v=!0,n("win",B)}),E.addEventListener("click",function(e){e.preventDefault(),E.innerHTML=v?"pipi pauze":"speel verder",v=!v}),L.addEventListener("click",function(){d(r(f,g)),y.classList.remove("show")})}for(var i=document.querySelectorAll("ul li a"),o=0,s=i.length;o<s;++o)!function(t){i[t].addEventListener("click",function(o){o.preventDefault();var s=new XMLHttpRequest;s.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var o=document.getElementById("nextPage"),c=document.getElementById("oldPage");o.innerHTML=s.responseText,n("show",c),setTimeout(function(){n("hide",c)},500),o.removeAttribute("class"),a(i[t].dataset.href.substr(e.location.href.length+5))}},s.open("GET",i[t].dataset.href,!0),s.send()})}(o)}(window);