!function(e,t){function n(e,t){t.classList.add(e)}function a(e,t){t.classList.remove(e)}function i(e){function a(){if(!p)if(v>0)v-=1;else if(0===v){L.classList.add("show");var e=r.play();e!==t&&e.catch(function(e){}).then(function(){})}}function i(){var t=new XMLHttpRequest;t.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var e=t.responseText?JSON.parse(t.responseText):null;e&&o(e.categorie.name,e.title,e.description,e.image)}},t.open("GET","/new/card/"+e,!0),t.send()}function o(e,t,n,a){T.className="var-"+e,T.getElementsByTagName("h2")[0].innerHTML=t,T.getElementsByTagName("figcaption")[0].innerHTML=n,T.getElementsByTagName("img")[0].alt=t,null!==a&&(T.getElementsByTagName("img")[0].src="/img/"+a)}function s(e,t){return Math.floor(Math.random()*(t-e)+1)+e}function d(e){e.pause(),e.currentTime=0}function c(){clearInterval(l),l=0,l=setInterval(a,1e3),setTimeout(i,500)}function u(e){v=e,c()}var r,l,m=document.getElementById("countDown"),f=parseInt(m.dataset.min),g=parseInt(m.dataset.max),v=parseInt(m.innerHTML),p=!1,h=!1,E=document.getElementById("won"),y=document.getElementById("pause"),L=document.getElementsByClassName("card")[0],T=document.getElementsByTagName("dialog")[0],B=document.getElementById("read"),I=document.getElementById("mute"),w=I.children[0],M=document.getElementById("win");c(),(r=document.createElement("audio")).setAttribute("src","/audio/notification - 10.mp3"),r.id="notification",r.preload="auto",r.addEventListener("ended",function(e){e.preventDefault(),d(r)}),document.body.appendChild(r),E.addEventListener("click",function(e){e.preventDefault(),p=!0,n("win",M)}),y.addEventListener("click",function(e){e.preventDefault(),y.innerHTML=p?"pipi pauze":"speel verder",p=!p}),B.addEventListener("click",function(){u(s(f,g)),L.classList.remove("show"),d(r)}),I.addEventListener("click",function(){h=!h,w.src=h?"/img/audio-uit.svg":"/img/audio-aan.svg",w.alt=h?"geluid uit":"geluid aan"})}for(var o=document.querySelectorAll("ul li a"),s=0,d=o.length;s<d;++s)!function(t){o[t].addEventListener("click",function(s){s.preventDefault();var d=new XMLHttpRequest;d.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var s=document.getElementById("nextPage"),c=document.getElementById("oldPage");s.innerHTML=d.responseText,n("show",c),setTimeout(function(){a("show",c),n("hide",c),n("show",s)},600),s.removeAttribute("class"),i(o[t].dataset.href.substr(e.location.href.length+5))}},d.open("GET",o[t].dataset.href,!0),d.send()})}(s);document.getElementById("overlay")&&document.getElementById("overlay").addEventListener("click",function(e){e.preventDefault(),this.classList.add("hide")})}(window);