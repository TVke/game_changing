!function(e,t){function n(e,t){t.classList.contains(e)||t.classList.add(e)}function a(e,t){t.classList.contains(e)&&t.classList.remove(e)}function i(e){function a(){if(!v)if(p>0)p-=1,m.innerHTML=p;else if(0===p&&(T.classList.add("show"),!h)){var e=u.play();e!==t&&e.catch(function(e){}).then(function(){})}}function i(){var t=new XMLHttpRequest;t.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var e=t.responseText?JSON.parse(t.responseText):null;e&&s(e.categorie.name,e.title,e.description,e.image)}},t.open("GET","/new/card/"+e,!0),t.send()}function s(e,t,n,a){w.className="var-"+e,w.getElementsByTagName("h2")[0].innerHTML=t,w.getElementsByTagName("figcaption")[0].innerHTML=n,null!==a&&(w.getElementsByTagName("img")[0].src="/img/"+a,w.getElementsByTagName("img")[0].alt=t)}function o(e,t){return Math.floor(Math.random()*(t-e)+1)+e}function c(e){e.pause(),e.currentTime=0}function r(){clearInterval(l),l=0,l=setInterval(a,1e3)}function d(e){p=e,m.innerHTML=p,r()}var u,l,m=document.getElementById("countDown"),f=parseInt(m.dataset.min),g=parseInt(m.dataset.max),p=parseInt(m.innerHTML),v=!1,h=!1,E=!1,L=document.getElementById("won"),y=document.getElementById("start"),T=document.getElementsByClassName("card")[0],w=document.getElementsByTagName("dialog")[0],B=document.getElementById("read"),I=document.getElementById("mute"),M=I.children[0],H=document.getElementById("win");(u=document.createElement("audio")).setAttribute("src","/audio/notification - 10.mp3"),u.id="notification",u.preload="auto",u.addEventListener("ended",function(e){e.preventDefault(),c(u)}),document.body.appendChild(u),y.addEventListener("click",function(e){e.preventDefault(),E?(y.innerHTML=v?"pipi pauze":"speel verder",v=!v):(r(),y.innerHTML="pipi pauze"),E=!0}),L.addEventListener("click",function(e){e.preventDefault(),v=!0,n("win",H)}),B.addEventListener("click",function(){d(o(f,g)),T.classList.remove("show"),c(u)}),I.addEventListener("click",function(){h=!h,M.src=h?"/img/audio-uit.svg":"/img/audio-aan.svg",M.alt=h?"geluid uit":"geluid aan"}),T.addEventListener("transitionend",function(e){e.target.classList.contains("card")&&!e.target.classList.contains("show")&&i()})}var s=document.querySelectorAll("ul li a"),o=document.getElementById("nextPage"),c=document.getElementById("oldPage"),r=document.getElementById("overlay");r&&r.addEventListener("click",function(e){e.preventDefault(),n("hide",this)});for(var d=0,u=s.length;d<u;++d)!function(t){s[t].addEventListener("click",function(r){r.preventDefault();var d=new XMLHttpRequest;d.onreadystatechange=function(){4===this.readyState&&200===this.status&&(o.innerHTML=d.responseText,o.removeAttribute("class"),n("show",c),o.addEventListener("transitionend",function(e){"transform"===e.propertyName&&(a("show",c),n("hide",c),n("show",o))}),i(s[t].dataset.href.substr(e.location.href.length+1)))},d.open("GET",s[t].dataset.href,!0),d.send()})}(d)}(window);